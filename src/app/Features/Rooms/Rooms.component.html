<app-main-layout 
  [pageTitle]="'إدارة القاعات'" 
  [buttonText]="'إضافة قاعة'"
  (buttonClick)="openModal()"
  (pageSizeChange)="onPageSizeChanged($event)"
  >
</app-main-layout>

<app-sahred-table 
  [tableData]="roomsData().data" 
  [columns]="columns"
  (edit)="onEdit($event)"
  (delete)="onDelete($event)">
</app-sahred-table>
  <app-afterTable
    [totalItems]="roomsData().totalItems"
    [itemsPerPage]="roomsData().data.length"
    [currentPage]="roomsData().currentPage"
    [pageSize]="roomsData().pageSize"
    [hasPrevious]="roomsData().hasPrevious"
    [hasNext]="roomsData().hasNext">
<!-- MODAL إضافة/تعديل -->
<div
  class="modal fade"
  [class.show]="showModal"
  [style.display]="showModal ? 'block' : 'none'"
  tabindex="-1"
  role="dialog"
>

  <div class="modal-dialog" role="document">
    <div class="modal-content">

      <!-- HEADER -->
      <div class="modal-header d-flex justify-content-between">
        <h5 class="modal-title">بيانات الغرفة</h5>
        <button type="button" class="close" (click)="closeModal()">
          <span>&times;</span>
        </button>
      </div>

      <!-- BODY -->
      <div class="modal-body">
        <div class="form-group mb-2">
          <label>اسم القاعة</label>
          <input type="text" class="form-control" />
        </div>

        <div class="form-group mb-2">
          <label>سعة الغرفة</label>
          <input type="number" class="form-control" />
        </div>

        <div class="form-group mb-2">
          <label>المبني</label>
          <select class="form-control">
            <option>اختر المبني</option>
          </select>
        </div>

        <div class="form-check form-switch mt-3">
          <input
            class="form-check-input"
            type="checkbox"
            [(ngModel)]="haveProjector"
            id="haveProjector"
          />
          <label class="form-check-label" for="haveProjector">
            هل تحتوي الغرفة على بروجكتور؟
          </label>
        </div>
      </div>

      <!-- FOOTER -->
      <div class="modal-footer text-center">
        <button class="btn btn-primary me-2">حفظ</button>
        <button class="btn btn-danger" (click)="closeModal()">إلغاء</button>
      </div>

    </div>
  </div>
</div>


<!-- MODAL تأكيد الحذف -->
<div
  class="modal fade"
  [class.show]="showDeleteModal"
  [style.display]="showDeleteModal ? 'block' : 'none'"
  tabindex="-1"
  role="dialog"
>

  <div class="modal-dialog" role="document">
    <div class="modal-content">

      <!-- HEADER -->
      <div class="modal-header d-flex justify-content-between">
        <h5 class="modal-title">تأكيد الحذف</h5>
        <button type="button" class="close" (click)="closeDeleteModal()">
          <span>&times;</span>
        </button>
      </div>

      <!-- BODY -->
      <div class="modal-body">
        <p>هل أنت متأكد من حذف هذه القاعة؟</p>
      </div>

      <!-- FOOTER -->
      <div class="modal-footer text-center">
        <button class="btn btn-danger me-2" (click)="confirmDelete()">حذف</button>
        <button class="btn btn-secondary" (click)="closeDeleteModal()">إلغاء</button>
      </div>

    </div>
  </div>
</div>

